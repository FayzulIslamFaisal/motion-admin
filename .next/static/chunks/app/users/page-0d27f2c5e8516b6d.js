(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{13106:function(e,a,t){Promise.resolve().then(t.bind(t,20589))},20589:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return ex}});var s=t(57437),n=t(2265),l=t(34422),r=t(94508);function i(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",a),...t})})}function d(e){let{className:a,...t}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",a),...t})}function o(e){let{className:a,...t}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",a),...t})}function c(e){let{className:a,...t}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...t})}function u(e){let{className:a,...t}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t})}function m(e){let{className:a,...t}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t})}var x=t(62869),h=t(35974),j=t(16831),p=t(70085);function v(e){let{...a}=e;return(0,s.jsx)(p.fC,{"data-slot":"dropdown-menu",...a})}function g(e){let{...a}=e;return(0,s.jsx)(p.xz,{"data-slot":"dropdown-menu-trigger",...a})}function f(e){let{className:a,sideOffset:t=4,...n}=e;return(0,s.jsx)(p.Uv,{children:(0,s.jsx)(p.VY,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...n})})}function N(e){let{className:a,inset:t,variant:n="default",...l}=e;return(0,s.jsx)(p.ck,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:(0,r.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...l})}var w=t(28842),b=t(67782),y=t(15868),C=t(18930),k=t(10829);function S(e){let{users:a,onEdit:t,onDelete:n,onSort:l,sortField:r,sortOrder:p,isLoading:S}=e,{user:z}=(0,k.a)(),D=e=>r!==e?(0,s.jsx)(w.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(w.Z,{className:"ml-2 h-4 w-4 ".concat("desc"===p?"rotate-180":"")});return S?(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(i,{children:[(0,s.jsx)(d,{children:(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{children:"User"}),(0,s.jsx)(u,{children:"Role"}),(0,s.jsx)(u,{children:"Status"}),(0,s.jsx)(u,{children:"Department"}),(0,s.jsx)(u,{children:"Last Login"}),(0,s.jsx)(u,{children:"Actions"})]})}),(0,s.jsx)(o,{children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse w-24 mb-1"}),(0,s.jsx)("div",{className:"h-3 bg-muted rounded animate-pulse w-32"})]})]})}),(0,s.jsx)(m,{children:(0,s.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse w-16"})}),(0,s.jsx)(m,{children:(0,s.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse w-16"})}),(0,s.jsx)(m,{children:(0,s.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse w-20"})}),(0,s.jsx)(m,{children:(0,s.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse w-20"})}),(0,s.jsx)(m,{children:(0,s.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse w-8"})})]},a))})]})}):(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(i,{children:[(0,s.jsx)(d,{children:(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{children:(0,s.jsxs)(x.z,{variant:"ghost",onClick:()=>l("name"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:["User",D("name")]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(x.z,{variant:"ghost",onClick:()=>l("role"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:["Role",D("role")]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(x.z,{variant:"ghost",onClick:()=>l("status"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:["Status",D("status")]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(x.z,{variant:"ghost",onClick:()=>l("department"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:["Department",D("department")]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(x.z,{variant:"ghost",onClick:()=>l("lastLogin"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:["Last Login",D("lastLogin")]})}),(0,s.jsx)(u,{children:"Actions"})]})}),(0,s.jsx)(o,{children:a.map(e=>(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(j.qE,{className:"h-8 w-8",children:[(0,s.jsx)(j.F$,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,s.jsx)(j.Q5,{children:e.name.charAt(0)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})]})]})}),(0,s.jsx)(m,{children:(0,s.jsx)(h.C,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),(0,s.jsx)(m,{children:(0,s.jsx)(h.C,{variant:"active"===e.status?"default":"destructive",children:e.status})}),(0,s.jsx)(m,{children:e.department||"-"}),(0,s.jsx)(m,{children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"-"}),(0,s.jsx)(m,{children:(0,s.jsxs)(v,{children:[(0,s.jsx)(g,{asChild:!0,children:(0,s.jsx)(x.z,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,s.jsx)(b.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(f,{align:"end",children:[(0,s.jsxs)(N,{onClick:()=>t(e),children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(null==z?void 0:z.role)==="admin"&&e.id!==z.id&&(0,s.jsxs)(N,{onClick:()=>n(e.id),className:"text-destructive",children:[(0,s.jsx)(C.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})}var z=t(95186),D=t(53647),Q=t(73247),L=t(32489);function _(e){let{filters:a,onFiltersChange:t,departments:n}=e,l=a.search||a.role&&"all"!==a.role||a.status&&"all"!==a.status||a.department;return(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-card rounded-lg border",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Q.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,s.jsx)(z.I,{placeholder:"Search users by name, email, or department...",value:a.search||"",onChange:e=>t({...a,search:e.target.value}),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(D.Ph,{value:a.role||"all",onValueChange:e=>t({...a,role:e}),children:[(0,s.jsx)(D.i4,{className:"w-32",children:(0,s.jsx)(D.ki,{placeholder:"Role"})}),(0,s.jsxs)(D.Bw,{children:[(0,s.jsx)(D.Ql,{value:"all",children:"All Roles"}),(0,s.jsx)(D.Ql,{value:"admin",children:"Admin"}),(0,s.jsx)(D.Ql,{value:"user",children:"User"})]})]}),(0,s.jsxs)(D.Ph,{value:a.status||"all",onValueChange:e=>t({...a,status:e}),children:[(0,s.jsx)(D.i4,{className:"w-32",children:(0,s.jsx)(D.ki,{placeholder:"Status"})}),(0,s.jsxs)(D.Bw,{children:[(0,s.jsx)(D.Ql,{value:"all",children:"All Status"}),(0,s.jsx)(D.Ql,{value:"active",children:"Active"}),(0,s.jsx)(D.Ql,{value:"inactive",children:"Inactive"})]})]}),(0,s.jsxs)(D.Ph,{value:a.department||"none",onValueChange:e=>t({...a,department:e}),children:[(0,s.jsx)(D.i4,{className:"w-40",children:(0,s.jsx)(D.ki,{placeholder:"Department"})}),(0,s.jsxs)(D.Bw,{children:[(0,s.jsx)(D.Ql,{value:"none",children:"All Departments"}),n.map(e=>(0,s.jsx)(D.Ql,{value:e,children:e},e))]})]}),l&&(0,s.jsx)(x.z,{variant:"outline",size:"icon",onClick:()=>{t({search:"",role:"all",status:"all",department:""})},children:(0,s.jsx)(L.Z,{className:"h-4 w-4"})})]})]})}var U=t(49027);function A(e){let{...a}=e;return(0,s.jsx)(U.fC,{"data-slot":"dialog",...a})}function E(e){let{...a}=e;return(0,s.jsx)(U.h_,{"data-slot":"dialog-portal",...a})}function P(e){let{className:a,...t}=e;return(0,s.jsx)(U.aV,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function Z(e){let{className:a,children:t,showCloseButton:n=!0,...l}=e;return(0,s.jsxs)(E,{"data-slot":"dialog-portal",children:[(0,s.jsx)(P,{}),(0,s.jsxs)(U.VY,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...l,children:[t,n&&(0,s.jsxs)(U.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(L.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function F(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function V(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function B(e){let{className:a,...t}=e;return(0,s.jsx)(U.Dx,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",a),...t})}function O(e){let{className:a,...t}=e;return(0,s.jsx)(U.dk,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...t})}var I=t(26815),M=t(51817);function R(e){let{open:a,onOpenChange:t,user:l,onSubmit:r,departments:i}=e,[d,o]=(0,n.useState)({name:"",email:"",role:"user",status:"active",department:"No Department",avatar:""}),[c,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l?o({name:l.name,email:l.email,role:l.role,status:l.status,department:l.department||"No Department",avatar:l.avatar||""}):o({name:"",email:"",role:"user",status:"active",department:"No Department",avatar:""})},[l,a]);let m=async e=>{e.preventDefault(),u(!0);try{await r({...d,avatar:d.avatar||"/placeholder.svg?height=40&width=40&query=professional+avatar",lastLogin:null==l?void 0:l.lastLogin}),t(!1)}catch(e){console.error("Failed to save user:",e)}finally{u(!1)}};return(0,s.jsx)(A,{open:a,onOpenChange:t,children:(0,s.jsxs)(Z,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(F,{children:[(0,s.jsx)(B,{children:l?"Edit User":"Add New User"}),(0,s.jsx)(O,{children:l?"Update user information.":"Create a new user account."})]}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(I._,{htmlFor:"name",children:"Name"}),(0,s.jsx)(z.I,{id:"name",value:d.name,onChange:e=>o({...d,name:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(I._,{htmlFor:"email",children:"Email"}),(0,s.jsx)(z.I,{id:"email",type:"email",value:d.email,onChange:e=>o({...d,email:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(I._,{htmlFor:"role",children:"Role"}),(0,s.jsxs)(D.Ph,{value:d.role,onValueChange:e=>o({...d,role:e}),children:[(0,s.jsx)(D.i4,{children:(0,s.jsx)(D.ki,{})}),(0,s.jsxs)(D.Bw,{children:[(0,s.jsx)(D.Ql,{value:"user",children:"User"}),(0,s.jsx)(D.Ql,{value:"admin",children:"Admin"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(I._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(D.Ph,{value:d.status,onValueChange:e=>o({...d,status:e}),children:[(0,s.jsx)(D.i4,{children:(0,s.jsx)(D.ki,{})}),(0,s.jsxs)(D.Bw,{children:[(0,s.jsx)(D.Ql,{value:"active",children:"Active"}),(0,s.jsx)(D.Ql,{value:"inactive",children:"Inactive"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(I._,{htmlFor:"department",children:"Department"}),(0,s.jsxs)(D.Ph,{value:d.department,onValueChange:e=>o({...d,department:e}),children:[(0,s.jsx)(D.i4,{children:(0,s.jsx)(D.ki,{placeholder:"Select department"})}),(0,s.jsxs)(D.Bw,{children:[(0,s.jsx)(D.Ql,{value:"No Department",children:"No Department"}),i.map(e=>(0,s.jsx)(D.Ql,{value:e,children:e},e)),(0,s.jsx)(D.Ql,{value:"Engineering",children:"Engineering"}),(0,s.jsx)(D.Ql,{value:"Marketing",children:"Marketing"}),(0,s.jsx)(D.Ql,{value:"Sales",children:"Sales"}),(0,s.jsx)(D.Ql,{value:"Design",children:"Design"}),(0,s.jsx)(D.Ql,{value:"HR",children:"HR"})]})]})]})]}),(0,s.jsxs)(V,{children:[(0,s.jsx)(x.z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),(0,s.jsx)(x.z,{type:"submit",disabled:c,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.Z,{className:"mr-2 h-4 w-4 animate-spin"}),l?"Updating...":"Creating..."]}):l?"Update User":"Create User"})]})]})]})})}var T=t(92451),q=t(10407);function Y(e){let{pagination:a,onPageChange:t,onLimitChange:n}=e,{page:l,limit:r,total:i}=a,d=Math.ceil(i/r),o=Math.min(l*r,i);return(0,s.jsxs)("div",{className:"flex items-center justify-between px-2 py-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",(l-1)*r+1," to ",o," of ",i," results"]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,s.jsxs)(D.Ph,{value:r.toString(),onValueChange:e=>n(Number(e)),children:[(0,s.jsx)(D.i4,{className:"h-8 w-[70px]",children:(0,s.jsx)(D.ki,{})}),(0,s.jsxs)(D.Bw,{side:"top",children:[(0,s.jsx)(D.Ql,{value:"5",children:"5"}),(0,s.jsx)(D.Ql,{value:"10",children:"10"}),(0,s.jsx)(D.Ql,{value:"20",children:"20"}),(0,s.jsx)(D.Ql,{value:"50",children:"50"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("p",{className:"text-sm font-medium",children:["Page ",l," of ",d]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(x.z,{variant:"outline",size:"sm",onClick:()=>t(l-1),disabled:l<=1,children:(0,s.jsx)(T.Z,{className:"h-4 w-4"})}),(0,s.jsx)(x.z,{variant:"outline",size:"sm",onClick:()=>t(l+1),disabled:l>=d,children:(0,s.jsx)(q.Z,{className:"h-4 w-4"})})]})]})]})]})}var J=t(66070),H=t(90277);function $(e){let{...a}=e;return(0,s.jsx)(H.fC,{"data-slot":"alert-dialog",...a})}function W(e){let{...a}=e;return(0,s.jsx)(H.h_,{"data-slot":"alert-dialog-portal",...a})}function G(e){let{className:a,...t}=e;return(0,s.jsx)(H.aV,{"data-slot":"alert-dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function K(e){let{className:a,...t}=e;return(0,s.jsxs)(W,{children:[(0,s.jsx)(G,{}),(0,s.jsx)(H.VY,{"data-slot":"alert-dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t})]})}function X(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function ee(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function ea(e){let{className:a,...t}=e;return(0,s.jsx)(H.Dx,{"data-slot":"alert-dialog-title",className:(0,r.cn)("text-lg font-semibold",a),...t})}function et(e){let{className:a,...t}=e;return(0,s.jsx)(H.dk,{"data-slot":"alert-dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...t})}function es(e){let{className:a,...t}=e;return(0,s.jsx)(H.aU,{className:(0,r.cn)((0,x.d)(),a),...t})}function en(e){let{className:a,...t}=e;return(0,s.jsx)(H.$j,{className:(0,r.cn)((0,x.d)({variant:"outline"}),a),...t})}var el=t(99397),er=t(35153);let ei=[{id:"1",name:"John Doe",email:"john@example.com",role:"admin",status:"active",avatar:"/professional-male-avatar.png",createdAt:"2024-01-15",lastLogin:"2024-03-20",department:"Engineering"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"user",status:"active",avatar:"/professional-female-avatar.png",createdAt:"2024-02-10",lastLogin:"2024-03-19",department:"Marketing"},{id:"3",name:"Mike Johnson",email:"mike@example.com",role:"user",status:"inactive",avatar:"/professional-male-avatar-2.png",createdAt:"2024-01-20",lastLogin:"2024-03-10",department:"Sales"},{id:"4",name:"Sarah Wilson",email:"sarah@example.com",role:"user",status:"active",avatar:"/professional-female-avatar-2.png",createdAt:"2024-03-01",lastLogin:"2024-03-21",department:"Design"},{id:"5",name:"David Brown",email:"david@example.com",role:"user",status:"active",avatar:"/professional-male-avatar-3.png",createdAt:"2024-02-15",lastLogin:"2024-03-18",department:"Engineering"}],ed=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc";await new Promise(e=>setTimeout(e,500));let l=[...ei];if(e.search){let a=e.search.toLowerCase();l=l.filter(e=>{var t;return e.name.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)||(null===(t=e.department)||void 0===t?void 0:t.toLowerCase().includes(a))})}e.role&&"all"!==e.role&&(l=l.filter(a=>a.role===e.role)),e.status&&"all"!==e.status&&(l=l.filter(a=>a.status===e.status)),e.department&&(l=l.filter(a=>a.department===e.department)),l.sort((e,a)=>{let t=e[s],l=a[s];("createdAt"===s||"lastLogin"===s)&&(t=t||"",l=l||"");let r=t.localeCompare(l);return"asc"===n?r:-r});let r=l.length,i=(a-1)*t;return{users:l.slice(i,i+t),pagination:{page:a,limit:t,total:r}}},eo=async e=>{await new Promise(e=>setTimeout(e,800));let a={...e,id:Date.now().toString(),createdAt:new Date().toISOString().split("T")[0]};return ei.push(a),a},ec=async(e,a)=>{await new Promise(e=>setTimeout(e,600));let t=ei.findIndex(a=>a.id===e);if(-1===t)throw Error("User not found");return ei[t]={...ei[t],...a},ei[t]},eu=async e=>{await new Promise(e=>setTimeout(e,400));let a=ei.findIndex(a=>a.id===e);if(-1===a)throw Error("User not found");ei.splice(a,1)},em=()=>[...new Set(ei.map(e=>e.department).filter(Boolean))];function ex(){let[e,a]=(0,n.useState)([]),[t,r]=(0,n.useState)({page:1,limit:10,total:0}),[i,d]=(0,n.useState)({search:"",role:"all",status:"all",department:""}),[o,c]=(0,n.useState)("name"),[u,m]=(0,n.useState)("asc"),[h,j]=(0,n.useState)(!0),[p,v]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null),[N,w]=(0,n.useState)(null),[b]=(0,n.useState)(em()),{toast:y}=(0,er.pm)(),C=(0,n.useCallback)(async()=>{j(!0);try{let e=await ed(i,t.page,t.limit,o,u);a(e.users),r(e.pagination)}catch(e){y({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{j(!1)}},[i,t.page,t.limit,o,u,y]);(0,n.useEffect)(()=>{C()},[C]);let k=async()=>{if(N)try{await eu(N),y({title:"Success",description:"User deleted successfully"}),C()}catch(e){y({title:"Error",description:"Failed to delete user",variant:"destructive"})}finally{w(null)}},z=async e=>{try{g?(await ec(g.id,e),y({title:"Success",description:"User updated successfully"})):(await eo(e),y({title:"Success",description:"User created successfully"})),C()}catch(e){throw y({title:"Error",description:"Failed to ".concat(g?"update":"create"," user"),variant:"destructive"}),e}};return(0,s.jsx)(l.c,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Users"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),(0,s.jsxs)(x.z,{onClick:()=>{f(null),v(!0)},children:[(0,s.jsx)(el.Z,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),(0,s.jsxs)(J.Zb,{children:[(0,s.jsxs)(J.Ol,{children:[(0,s.jsx)(J.ll,{children:"User Management"}),(0,s.jsx)(J.SZ,{children:"View, search, and manage all user accounts"})]}),(0,s.jsxs)(J.aY,{className:"space-y-4",children:[(0,s.jsx)(_,{filters:i,onFiltersChange:e=>{d(e),r(e=>({...e,page:1}))},departments:b}),(0,s.jsx)(S,{users:e,onEdit:e=>{f(e),v(!0)},onDelete:e=>{w(e)},onSort:e=>{o===e?m("asc"===u?"desc":"asc"):(c(e),m("asc"))},sortField:o,sortOrder:u,isLoading:h}),(0,s.jsx)(Y,{pagination:t,onPageChange:e=>{r(a=>({...a,page:e}))},onLimitChange:e=>{r(a=>({...a,limit:e,page:1}))}})]})]}),(0,s.jsx)(R,{open:p,onOpenChange:v,user:g,onSubmit:z,departments:b}),(0,s.jsx)($,{open:!!N,onOpenChange:()=>w(null),children:(0,s.jsxs)(K,{children:[(0,s.jsxs)(X,{children:[(0,s.jsx)(ea,{children:"Are you sure?"}),(0,s.jsx)(et,{children:"This action cannot be undone. This will permanently delete the user account."})]}),(0,s.jsxs)(ee,{children:[(0,s.jsx)(en,{children:"Cancel"}),(0,s.jsx)(es,{onClick:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})})}}},function(e){e.O(0,[571,0,519,287,879,959,971,117,744],function(){return e(e.s=13106)}),_N_E=e.O()}]);